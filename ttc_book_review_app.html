<!DOCTYPE html>
<html lang="en" class="dark scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Bookworm Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // This is the crucial configuration for Tailwind CSS to enable class-based dark mode
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease;
        }

        .iphone-shell {
            width: 414px; /* iPhone 11 Pro Max width */
            height: 896px; /* iPhone 11 Pro Max height */
            background-color: #1a1a1a;
            border-radius: 60px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3), 0 0 0 10px #111;
            padding: 15px;
            position: relative;
        }

        .screen-container {
            width: 100%;
            height: 100%;
            border-radius: 45px;
            overflow: hidden;
            position: relative;
            background-color: #f9fafb; /* The app's bg color */
        }
        
        html.dark .screen-container {
            background-color: #000;
        }

        .app-content {
            height: 100%;
            overflow-y: auto;
             /* Add padding-bottom to prevent content from being hidden by the fixed bottom nav */
            padding-bottom: 80px; 
            box-sizing: border-box; /* Ensures padding is included in height calculation */
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Adjustments for elements within the phone */
        .app-content .sticky {
            position: sticky;
            top: 0;
            z-index: 40;
        }

        .app-content .fixed {
            position: absolute; /* Change fixed to absolute relative to screen-container */
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 50;
        }

        .app-content .container {
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }


        /* Custom scrollbar for better aesthetics */
        .app-content::-webkit-scrollbar {
            width: 4px;
            height: 4px;
        }
        .app-content::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        html.dark .app-content::-webkit-scrollbar-track {
            background: #2d3748;
        }
        .app-content::-webkit-scrollbar-thumb {
            background: #ef4444;
            border-radius: 10px;
        }
        .app-content::-webkit-scrollbar-thumb:hover {
            background: #dc2626;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="bg-gray-200 dark:bg-gray-900 flex justify-center items-center min-h-screen py-8 transition-colors duration-300">

    <div class="iphone-shell">
        <div class="screen-container">
            <div id="app-content-scroller" class="app-content bg-gray-50 text-gray-800 dark:bg-black dark:text-gray-200">
                
                <!-- Main Screen -->
                <div id="main-screen">
                    <!-- Header Section -->
                    <header id="header" class="bg-white dark:bg-gray-800 sticky top-0 z-40 transition-all duration-300 pb-3">
                        <div class="container mx-auto px-4 pt-4">
                            <!-- Location and Profile -->
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                                    <div class="ml-2">
                                        <h2 class="font-bold text-lg leading-tight text-gray-800 dark:text-white">Explore</h2>
                                        <p class="text-gray-500 dark:text-gray-400 text-sm leading-tight">Discover your next read</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-4">
                                     <!-- Dark Mode Toggle -->
                                    <div class="flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-yellow-500"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
                                        <label for="dark-mode-toggle" class="relative inline-flex items-center cursor-pointer mx-2">
                                            <input type="checkbox" id="dark-mode-toggle" class="sr-only peer">
                                            <div class="w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-red-500"></div>
                                        </label>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-500 dark:text-gray-400"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
                                    </div>
                                    <div class="w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                                    </div>
                                </div>
                            </div>
                            <!-- Search Bar -->
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                                </div>
                                <input type="text" placeholder="Book title, author, or genre..." class="w-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 placeholder-gray-400 text-gray-800 dark:text-white rounded-lg py-3 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-red-400 shadow-sm">
                            </div>
                        </div>
                    </header>

                    <!-- Main Content -->
                    <main class="container mx-auto px-4 py-4">
                        
                        <!-- Filter Tabs -->
                        <section class="mb-6">
                            <div class="flex space-x-3 overflow-x-auto hide-scrollbar pb-2">
                                <button class="flex items-center border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 text-sm bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 shadow-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                    Top Rated
                                </button>
                                <button class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 text-sm bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 shadow-sm">New Releases</button>
                                <button class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 text-sm bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 shadow-sm">Genres</button>
                                <button class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 text-sm bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 shadow-sm">Popular</button>
                            </div>
                        </section>

                        <!-- Promo Banners -->
                        <section class="mb-8">
                            <div class="flex space-x-4 overflow-x-auto hide-scrollbar pb-2">
                                <img src="https://placehold.co/300x180/FEE2E2/EF4444?text=BESTSELLERS+50%25+OFF" class="rounded-2xl shadow-lg w-4/5 flex-shrink-0">
                                <img src="https://placehold.co/300x180/FEF3C7/F59E0B?text=AUTHOR+OF+THE+MONTH" class="rounded-2xl shadow-lg w-4/5 flex-shrink-0">
                                <img src="https://placehold.co/300x180/D1FAE5/10B981?text=NEW+SCI-FI+RELEASES" class="rounded-2xl shadow-lg w-4/5 flex-shrink-0">
                            </div>
                        </section>

                        <!-- Genre Section -->
                        <section class="mb-8">
                            <h2 class="text-2xl font-bold mb-4 text-gray-800 dark:text-white">Browse by Genre</h2>
                            <div class="grid grid-cols-4 gap-4 text-center">
                                <div class="flex flex-col items-center">
                                    <div class="w-20 h-20 rounded-full bg-red-100 dark:bg-gray-800 overflow-hidden"><img src="https://placehold.co/80x80/ffffff/000000?text=Fiction" alt="Fiction"></div>
                                    <p class="mt-2 font-semibold text-sm text-gray-700 dark:text-gray-300">Fiction</p>
                                </div>
                                 <div class="flex flex-col items-center">
                                    <div class="w-20 h-20 rounded-full bg-blue-100 dark:bg-gray-800 overflow-hidden"><img src="https://placehold.co/80x80/ffffff/000000?text=Sci-Fi" alt="Sci-Fi"></div>
                                    <p class="mt-2 font-semibold text-sm text-gray-700 dark:text-gray-300">Sci-Fi</p>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-20 h-20 rounded-full bg-green-100 dark:bg-gray-800 overflow-hidden"><img src="https://placehold.co/80x80/ffffff/000000?text=Mystery" alt="Mystery"></div>
                                    <p class="mt-2 font-semibold text-sm text-gray-700 dark:text-gray-300">Mystery</p>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-20 h-20 rounded-full bg-yellow-100 dark:bg-gray-800 overflow-hidden"><img src="https://placehold.co/80x80/ffffff/000000?text=Romance" alt="Romance"></div>
                                    <p class="mt-2 font-semibold text-sm text-gray-700 dark:text-gray-300">Romance</p>
                                </div>
                                 <div class="flex flex-col items-center">
                                    <div class="w-20 h-20 rounded-full bg-purple-100 dark:bg-gray-800 overflow-hidden"><img src="https://placehold.co/80x80/ffffff/000000?text=Fantasy" alt="Fantasy"></div>
                                    <p class="mt-2 font-semibold text-sm text-gray-700 dark:text-gray-300">Fantasy</p>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-20 h-20 rounded-full bg-pink-100 dark:bg-gray-800 overflow-hidden"><img src="https://placehold.co/80x80/ffffff/000000?text=History" alt="History"></div>
                                    <p class="mt-2 font-semibold text-sm text-gray-700 dark:text-gray-300">History</p>
                                </div>
                                 <div class="flex flex-col items-center">
                                    <div class="w-20 h-20 rounded-full bg-indigo-100 dark:bg-gray-800 overflow-hidden"><img src="https://placehold.co/80x80/ffffff/000000?text=Bio" alt="Biography"></div>
                                    <p class="mt-2 font-semibold text-sm text-gray-700 dark:text-gray-300">Biography</p>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div class="w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
                                    </div>
                                    <p class="mt-2 font-semibold text-sm text-gray-700 dark:text-gray-300">See more</p>
                                </div>
                            </div>
                        </section>

                        <!-- Trending Books -->
                        <section>
                            <h2 class="text-2xl font-bold mb-4 text-gray-800 dark:text-white">Trending Books</h2>
                            <div class="space-y-6">
                                <!-- Book Card 1 -->
                                <div id="midnight-library-card" class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm dark:shadow-none overflow-hidden transform hover:scale-[1.02] transition-transform duration-300 cursor-pointer">
                                    <div class="relative">
                                        <img src="https://images.unsplash.com/photo-1544947950-fa07a98d237f?q=80&w=1887&auto=format&fit=crop" class="w-full h-48 object-cover">
                                        <div class="absolute top-3 right-3 bg-white dark:bg-gray-700 rounded-full p-2 cursor-pointer shadow-md">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                                        </div>
                                         <div class="absolute bottom-2 left-2 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">Bestseller</div>
                                         <div class="absolute bottom-2 right-2 bg-white/80 dark:bg-black/70 backdrop-blur-sm text-gray-800 dark:text-gray-200 text-sm px-2 py-1 rounded font-semibold">4.5k Reviews</div>
                                    </div>
                                    <div class="p-4">
                                        <div class="flex justify-between items-start">
                                            <h3 class="text-lg font-bold text-gray-800 dark:text-white">The Midnight Library</h3>
                                             <div class="flex items-center bg-green-600 text-white text-sm font-bold px-2 py-0.5 rounded">
                                                4.8 <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="ml-1"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                             </div>
                                        </div>
                                        <p class="text-gray-500 dark:text-gray-400 text-sm">Matt Haig</p>
                                        <p class="text-gray-500 dark:text-gray-400 text-sm">Fantasy Fiction</p>
                                    </div>
                                </div>
                                 <!-- Book Card 2 -->
                                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm dark:shadow-none overflow-hidden transform hover:scale-[1.02] transition-transform duration-300">
                                    <div class="relative">
                                        <img src="https://images.unsplash.com/photo-1593340578843-135b441a15f3?q=80&w=1887&auto=format&fit=crop" class="w-full h-48 object-cover">
                                         <div class="absolute top-3 right-3 bg-white dark:bg-gray-700 rounded-full p-2 cursor-pointer shadow-md">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                                        </div>
                                         <div class="absolute bottom-2 left-2 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">New Release</div>
                                         <div class="absolute bottom-2 right-2 bg-white/80 dark:bg-black/70 backdrop-blur-sm text-gray-800 dark:text-gray-200 text-sm px-2 py-1 rounded font-semibold">1.2k Reviews</div>
                                    </div>
                                     <div class="p-4">
                                        <div class="flex justify-between items-start">
                                            <h3 class="text-lg font-bold text-gray-800 dark:text-white">Atomic Habits</h3>
                                             <div class="flex items-center bg-green-600 text-white text-sm font-bold px-2 py-0.5 rounded">
                                                4.9 <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="ml-1"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                             </div>
                                        </div>
                                        <p class="text-gray-500 dark:text-gray-400 text-sm">James Clear</p>
                                        <p class="text-gray-500 dark:text-gray-400 text-sm">Self-Help</p>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </main>

                     <!-- Bottom Navigation Bar -->
                    <nav class="fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 shadow-[0_-1px_4px_rgba(0,0,0,0.08)] dark:shadow-[0_-1px_4px_rgba(255,255,255,0.08)] z-50">
                        <div id="bottom-nav-container" class="container mx-auto flex justify-around items-center h-20">
                            <button data-target="Order" class="bottom-nav-item flex flex-col items-center justify-center text-red-500 w-1/5">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m16.2 7.8-8.4 8.4"/><path d="m12 12 8.4-8.4"/></svg>
                                <span class="text-xs font-bold">Explore</span>
                            </button>
                            <button data-target="Go Out" class="bottom-nav-item flex flex-col items-center justify-center text-gray-500 dark:text-gray-400 w-1/5">
                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>
                                <span class="text-xs font-medium">My Library</span>
                            </button>
                            <button data-target="Pro" class="bottom-nav-item flex flex-col items-center justify-center text-gray-500 dark:text-gray-400 w-1/5">
                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                                <span class="text-xs font-medium">Wishlist</span>
                            </button>
                             <button data-target="Nutrition" class="bottom-nav-item flex flex-col items-center justify-center text-gray-500 dark:text-gray-400 w-1/5">
                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                                <span class="text-xs font-medium">Community</span>
                            </button>
                             <button data-target="Donate" class="bottom-nav-item flex flex-col items-center justify-center text-gray-500 dark:text-gray-400 w-1/5">
                                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 0 0-16 0"/></svg>
                                <span class="text-xs font-medium">Profile</span>
                            </button>
                        </div>
                    </nav>
                </div>

                <!-- Detail Screen (hidden by default) -->
                <div id="detail-screen" class="hidden pb-10">
                    <!-- Header with back button -->
                     <header class="bg-white dark:bg-gray-800 sticky top-0 z-40 p-4 flex items-center shadow-sm">
                        <button id="back-button" class="text-gray-600 dark:text-gray-300">
                           <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
                        </button>
                        <h2 class="font-bold text-xl ml-4 text-gray-800 dark:text-white">Book Details</h2>
                    </header>
                    <!-- Book Banner -->
                    <img src="https://images.unsplash.com/photo-1544947950-fa07a98d237f?q=80&w=1887&auto=format&fit=crop" class="w-full h-64 object-cover">
                    
                    <div class="p-4">
                        <!-- Book Title and Author -->
                        <h1 class="text-3xl font-bold mb-1 text-gray-800 dark:text-white">The Midnight Library</h1>
                        <p class="text-lg text-gray-600 dark:text-gray-400 font-medium mb-4">by Matt Haig</p>

                        <!-- Rating -->
                        <div class="flex items-center mb-6">
                            <div class="flex text-yellow-400">
                                <!-- Full stars -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                                <!-- Half star -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></svg>
                            </div>
                            <span class="ml-3 text-lg font-bold text-gray-700 dark:text-gray-300">4.8</span>
                            <span class="ml-1 text-base text-gray-500 dark:text-gray-400">(4,512 reviews)</span>
                        </div>
                        
                        <!-- Summary Section -->
                        <div class="mb-8 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg">
                            <h2 class="text-xl font-bold mb-2 text-gray-800 dark:text-white">Summary</h2>
                            <p class="text-gray-600 dark:text-gray-300 leading-relaxed text-sm">
                                Between life and death, there is a library, and within that library, the shelves go on forever. Every book provides a chance to try another life you could have lived. To see how things would be different if you had made other choices... Would you have done anything different, if you had the chance to undo your regrets?
                            </p>
                        </div>

                        <!-- Purchase Links Section -->
                        <div class="mb-8">
                            <h2 class="text-xl font-bold mb-3 text-gray-800 dark:text-white">Where to Buy</h2>
                            <div class="flex space-x-4">
                                <a href="#" class="flex-1 bg-[#FF9900] text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center hover:bg-opacity-90 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                                    Amazon
                                </a>
                                <a href="#" class="flex-1 bg-[#2874F0] text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center hover:bg-opacity-90 transition-colors">
                                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.432 0l6.568-6.568a2.426 2.426 0 0 0 0-3.432L12.586 2.586Z"/><circle cx="8.5" cy="8.5" r="1.5"/></svg>
                                    Flipkart
                                </a>
                            </div>
                        </div>

                        <!-- Reviews Section -->
                        <h2 class="text-2xl font-bold mb-4 text-gray-800 dark:text-white">Reviews</h2>
                        <div class="space-y-5">
                            <!-- Review Card 1 -->
                            <div class="bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-100 dark:border-gray-700">
                                <div class="flex items-center mb-2">
                                    <img src="https://placehold.co/40x40/E0E0E0/000000?text=A" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="font-bold text-gray-800 dark:text-white">Alice</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">2 weeks ago</p>
                                    </div>
                                </div>
                                <p class="text-gray-700 dark:text-gray-300">An absolutely stunning and thought-provoking novel. It makes you reconsider your own life choices. A must-read!</p>
                            </div>
                             <!-- Review Card 2 -->
                            <div class="bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-100 dark:border-gray-700">
                                <div class="flex items-center mb-2">
                                    <img src="https://placehold.co/40x40/C2DFFF/000000?text=B" class="w-10 h-10 rounded-full mr-3">
                                    <div>
                                        <p class="font-bold text-gray-800 dark:text-white">Bob</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">1 month ago</p>
                                    </div>
                                </div>
                                <p class="text-gray-700 dark:text-gray-300">I couldn't put it down. The concept is brilliant and the writing is beautiful. Highly recommended for anyone feeling a bit lost.</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>


    <script>
        // --- Dark Mode Toggle Script ---
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const htmlElement = document.documentElement;

        // Function to apply theme based on toggle state
        function applyTheme() {
            if (darkModeToggle.checked) {
                 // When toggle is ON (right), it's DARK mode
                htmlElement.classList.add('dark');
            } else {
                // When toggle is OFF (left), it's LIGHT mode
                htmlElement.classList.remove('dark');
            }
        }

        // Apply theme on initial load
        applyTheme();

        // Add event listener for changes
        darkModeToggle.addEventListener('change', applyTheme);


        // --- Existing Scripts ---

        // Hide header on scroll down, show on scroll up
        let lastScrollTop = 0;
        const header = document.getElementById('header');
        const scroller = document.getElementById('app-content-scroller');

        scroller.addEventListener('scroll', function() {
            let scrollTop = scroller.scrollTop;
            if (scrollTop > lastScrollTop && scrollTop > header.offsetHeight) {
                // Downscroll
                header.style.transform = 'translateY(-100%)';
            } else {
                // Upscroll
                header.style.transform = 'translateY(0)';
            }
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; 
        }, false);

        // Bottom Navigation Active State
        const navContainer = document.getElementById('bottom-nav-container');
        const navItems = navContainer.querySelectorAll('.bottom-nav-item');

        navContainer.addEventListener('click', (e) => {
            const clickedItem = e.target.closest('.bottom-nav-item');
            if (!clickedItem) return;

            // Remove active styles from all items
            navItems.forEach(item => {
                item.classList.remove('text-red-500');
                item.classList.add('text-gray-500', 'dark:text-gray-400');
                item.querySelector('span').classList.remove('font-bold');
                item.querySelector('span').classList.add('font-medium');
            });

            // Add active styles to clicked item
            clickedItem.classList.add('text-red-500');
            clickedItem.classList.remove('text-gray-500', 'dark:text-gray-400');
            clickedItem.querySelector('span').classList.add('font-bold');
            clickedItem.querySelector('span').classList.remove('font-medium');
        });

        // --- Navigation Script ---

        const mainScreen = document.getElementById('main-screen');
        const detailScreen = document.getElementById('detail-screen');
        const midnightLibraryCard = document.getElementById('midnight-library-card');
        const backButton = document.getElementById('back-button');

        midnightLibraryCard.addEventListener('click', () => {
            mainScreen.classList.add('hidden');
            detailScreen.classList.remove('hidden');
            // Scroll to top of the new screen
            scroller.scrollTop = 0;
        });
        
        backButton.addEventListener('click', () => {
            detailScreen.classList.add('hidden');
            mainScreen.classList.remove('hidden');
        });


    </script>

</body>
</html>
